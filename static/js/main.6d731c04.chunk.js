(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{52:function(e,t,c){},84:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(40),i=c.n(n),r=c(16),o=c(38),s=c(61),l=c(62),u=c(33),d=c.n(u),j=c(44),f=c(13),b=function(){var e=Object(j.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.weatherapi.com/v1/current.json?key=7de576d75ec1409fbc9122745211208&q=".concat(t,"&aqi=no"));case 3:return c=e.sent,e.next=6,c.json();case 6:return a=e.sent,console.log(a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),h=b,p="SET_CITY",O="UPDATE_WEATHER";function x(e){return{type:p,payload:e}}var m={location:"",responseLocation:"",country:"",temp:"",condition:"",wind:"",pressure:"",humidity:"",code:"",isDay:""};var v=c(23),g="ADD_TO_FAVORITES",y="REMOVE_FROM_FAVORITES",w="GET_CITIES";var C={arrOfCities:[]};var _=function(e){return function(t){D.dispatch(function(e){return{type:g,payload:e}}(e))}},F=function(e){return function(t){D.dispatch(function(e){return{type:y,payload:e}}(e))}},S=Object(l.composeWithDevTools)(Object(o.applyMiddleware)(s.a)),N=Object(o.combineReducers)({cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(f.a)(Object(f.a)({},e),{},{arrOfCities:[].concat(Object(v.a)(e.arrOfCities),[t.payload])});case y:return Object(f.a)(Object(f.a)({},e),{},{arrOfCities:e.arrOfCities.filter((function(e){return e!==t.payload}))});case w:return Object(f.a)(Object(f.a)({},e),{},{arrOfCities:t.payload});default:return e}},weatherData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(f.a)(Object(f.a)({},e),{},{location:t.payload.toLowerCase()});case O:return Object(f.a)(Object(f.a)({},e),{},{responseLocation:t.payload.location.name,country:t.payload.location.country,temp:t.payload.current.temp_c,condition:"it's ".concat(t.payload.current.condition.text.toLowerCase()),wind:t.payload.current.wind_kph,pressure:t.payload.current.pressure_mb,humidity:t.payload.current.humidity,code:t.payload.current.condition.code,isDay:t.payload.current.is_day});default:return e}}}),D=Object(o.createStore)(N,S),k=c(9),T=c(64),L=c.n(T),E=(c(84),c(52),c(1)),I=Object(r.b)((function(e){return{location:e.weatherData.location,responseLocation:e.weatherData.responseLocation,condition:e.weatherData.condition}}))((function(e){return e.condition&&e.location.toLowerCase()===e.responseLocation.toLowerCase()?e.condition?Object(E.jsx)("div",{className:"condition",children:e.condition}):void 0:Object(E.jsx)("span",{})})),W=Object(r.b)((function(e){return{location:e.weatherData.location}}),(function(e){return{onChange:function(t){e(x(t.target.value))}}}))((function(e){return Object(E.jsxs)("div",{className:"search",children:[Object(E.jsx)("h1",{children:"Right now in"}),Object(E.jsx)(L.a,{type:"text",minWidth:"70",inputStyle:{fontSize:35,fontWeight:600,display:"block"},value:e.location,onChange:function(t){return e.onChange(t)}}),Object(E.jsx)(I,{})]})})),M=Object(r.b)((function(e){return{code:e.weatherData.code,isDay:e.weatherData.isDay}}))((function(e){var t="day";e.isDay||(t="night");var c="/assets/icons/".concat(t,"/").concat(e.code,".svg");return Object(E.jsx)("div",{className:"weather__icon",children:Object(E.jsx)("object",{data:"/SimpleWeather"+c,className:"weather__icon",type:"image/svg+xml","aria-label":"icon of weather"})})})),B=Object(r.b)((function(e){return{location:e.weatherData.location,responseLocation:e.weatherData.responseLocation,temp:e.weatherData.temp,wind:e.weatherData.wind,pressure:e.weatherData.pressure,humidity:e.weatherData.humidity}}))((function(e){var t=(1e3*e.wind/3600).toFixed(1),c=(.750063755419211*e.pressure).toFixed();return e.temp&&e.location.toLowerCase()===e.responseLocation.toLowerCase()?e.temp?Object(E.jsxs)("div",{className:"weather grid",children:[Object(E.jsx)(M,{}),Object(E.jsx)("div",{className:"weather__temp",children:Object(E.jsx)("h1",{children:e.temp.toFixed()})}),Object(E.jsxs)("div",{className:"flex weather__properties",children:[Object(E.jsxs)("div",{className:"properties__value",children:[t,Object(E.jsx)("span",{children:"m/s"})]}),Object(E.jsxs)("div",{className:"properties__value",children:[c,Object(E.jsx)("span",{children:"mm Hg"})]}),Object(E.jsxs)("div",{className:"properties__value",children:[e.humidity,Object(E.jsx)("span",{children:"%"})]})]})]}):void 0:Object(E.jsx)("div",{})})),A=c(10),R=c(111),z=c(112),J=c(114),V=function(e){return Object(E.jsx)(J.a,Object(f.a)(Object(f.a)({},e),{},{icon:Object(E.jsx)(R.a,{}),checkedIcon:Object(E.jsx)(z.a,{}),size:"large",sx:{color:"white","&.Mui-checked":{color:"white"}}}))},q=Object(r.b)((function(e){return{location:e.weatherData.location,favoriteCities:e.cities.arrOfCities,responseLocation:e.weatherData.responseLocation}}),(function(e){return{addToFavorites:function(t){e(_(t))},removeFromFavorites:function(t){e(F(t))}}}))((function(e){var t=Object(a.useState)(e.favoriteCities.includes(e.location)),c=Object(A.a)(t,2),n=c[0],i=c[1],r=Object(a.useState)(!1),o=Object(A.a)(r,2),s=o[0],l=o[1];return Object(a.useEffect)((function(){i(e.favoriteCities.includes(e.location))}),[e.location]),Object(a.useEffect)((function(){e.location&&e.location===e.responseLocation.toLowerCase()?l(!1):l(!0)}),[e.location,e.responseLocation]),Object(a.useEffect)((function(){localStorage.setItem("cities",JSON.stringify(e.favoriteCities))}),[e.favoriteCities]),Object(E.jsx)(V,{onClick:function(){n?(e.removeFromFavorites(e.location),i(!n)):(e.addToFavorites(e.location),i(!n))},disabled:s,checked:n})})),H=c(117),Y=c(68),G=c.n(Y),P=function(e){return Object(E.jsx)(H.a,{size:"large",sx:{color:"white"},children:Object(E.jsx)(G.a,{fontSize:"large"})})},U=c(29),K=function(){return Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"app",children:[Object(E.jsx)(q,{}),Object(E.jsx)(U.b,{to:"/SimpleWeather/cities",children:Object(E.jsx)(P,{})}),Object(E.jsx)(W,{}),Object(E.jsx)(B,{})]})})};var Q=function(e,t){var c=Object(a.useState)(e),n=Object(A.a)(c,2),i=n[0],r=n[1];return Object(a.useEffect)((function(){var c=setTimeout((function(){return r(e)}),t);return function(){return clearTimeout(c)}}),[t,e]),i},X=c(17),Z=Object(X.a)(),$=(c(88),c(70)),ee=c.n($),te=function(e){return Object(E.jsx)(H.a,Object(f.a)(Object(f.a)({size:"large"},e),{},{children:Object(E.jsx)(ee.a,{fontSize:"large"})}))},ce=function(){return Object(E.jsx)(U.b,{to:"/SimpleWeather",className:"cities-page__back-btn",children:Object(E.jsx)(te,{sx:{color:"#2D81FF","&.MuiIconButton-root:hover":{backgroundColor:"rgba(45, 129, 255, 0.02)"}}})})},ae=(c(89),Object(r.b)((function(e){return{cities:e.cities.arrOfCities}}))((function(e){return e.cities.length>0?Object(E.jsxs)("div",{className:"flex cities-list",children:[Object(E.jsx)("div",{className:"blue-line"}),Object(E.jsx)("div",{className:"cities",children:e.cities.map((function(e){return Object(E.jsx)("div",{className:"cities__item",children:e})}))})]}):Object(E.jsxs)("div",{className:"flex cities-list",children:[Object(E.jsx)("div",{className:"blue-line"}),Object(E.jsxs)("div",{className:"cities-empty",children:[Object(E.jsx)("p",{children:"Oops!"}),Object(E.jsx)("p",{children:"You haven't added any city yet!"})]}),Object(E.jsx)("div",{className:"blue-line"})]})}))),ne=c(116),ie=c(118),re=(c(90),function(){return Object(E.jsx)("div",{className:"TempScaleToggle",children:Object(E.jsxs)(ne.a,{color:"secondary",value:"celsius",exclusive:!0,fullWidth:"true",sx:{height:"20px"},children:[Object(E.jsx)(ie.a,{value:"celsius",sx:{"&.MuiToggleButton-root":{borderRadius:"20px",backgroundColor:"transparent",borderColor:"#F9FBFF",color:"#2d81ff",textTransform:"capitalize"},"&.Mui-selected":{backgroundColor:"#6BA6FF",borderColor:"#6BA6FF",color:"#ffffff"},"&.Mui-selected:hover":{backgroundColor:"#5096ff",color:"#ffffff"}},children:"Celsius"}),Object(E.jsx)(ie.a,{value:"fahrenheit",sx:{"&.MuiToggleButton-root":{borderRadius:"20px",backgroundColor:"transparent",borderColor:"#F9FBFF",color:"#2d81ff",textTransform:"capitalize"},"&.Mui-selected":{backgroundColor:"#6BA6FF",borderColor:"#6BA6FF",color:"#ffffff"},"&.Mui-selected:hover":{backgroundColor:"#5096ff",color:"#ffffff"}},children:"Fahrenheit"})]})})}),oe=function(){return Object(E.jsxs)("div",{className:"cities-page",children:[Object(E.jsx)(ce,{}),Object(E.jsxs)("div",{className:"cities-page__list",children:[Object(E.jsx)("h1",{className:"cities-page-header",children:"Favorites cities"}),Object(E.jsx)(ae,{})]}),Object(E.jsxs)("div",{className:"cities-page__settings",children:[Object(E.jsx)("h1",{className:"cities-page-header",children:"Settings"}),Object(E.jsx)(re,{})]})]})},se=Object(r.b)((function(e){return{location:e.weatherData.location,favoriteCities:e.cities.arrOfCities}}))((function(e){Object(a.useEffect)((function(){localStorage.getItem("location")&&""===e.location&&D.dispatch(x(localStorage.getItem("location")))}),[]),Object(a.useEffect)((function(){return function(){localStorage.setItem("location",e.location)}}),[]);var t=Q(e.location.trim(),700),c=Object(a.useCallback)(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(c){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h(e);case 3:a=t.sent,D.dispatch({type:O,payload:a}),localStorage.setItem("location",a.location.name),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t),[t]);return Object(a.useEffect)((function(){t&&c()}),[t,c]),Object(E.jsx)(k.c,{history:Z,children:Object(E.jsxs)(k.d,{children:[Object(E.jsx)(k.b,{exact:!0,path:"/SimpleWeather",children:Object(E.jsx)(K,{})}),Object(E.jsx)(k.b,{exact:!0,path:"/SimpleWeather/cities",children:Object(E.jsx)(oe,{})}),Object(E.jsx)(k.a,{to:"/SimpleWeather"})]})})})),le=(c(93),c(94),c(71)),ue=c(15);if(localStorage.getItem("cities")){var de=localStorage.getItem("cities"),je=JSON.parse(de);D.dispatch(function(e){return{type:w,payload:e}}(je))}else localStorage.setItem("cities","[]");var fe=Object(le.a)({palette:{primary:{main:"#ffffff",darker:"#ffffff"},secondary:{main:"#2d81ff",darker:"#2d81ff"}}}),be=document.getElementById("root");i.a.render(Object(E.jsx)(r.a,{store:D,children:Object(E.jsx)(ue.c,{theme:fe,children:Object(E.jsx)(U.a,{basename:"/SimpleWeather",children:Object(E.jsx)(se,{})})})}),be)}},[[95,1,2]]]);
//# sourceMappingURL=main.6d731c04.chunk.js.map